
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #303030;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;javascript&quot;,&quot;php&quot;,&quot;java&quot;,&quot;swift&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="javascript">javascript</a>
              <a href="#" data-language-name="php">php</a>
              <a href="#" data-language-name="java">java</a>
              <a href="#" data-language-name="swift">swift</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#graphql" class="toc-h1 toc-link" data-title="GraphQL">GraphQL</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#login" class="toc-h2 toc-link" data-title="Login">Login</a>
                  </li>
                  <li>
                    <a href="#me" class="toc-h2 toc-link" data-title="Me">Me</a>
                  </li>
                  <li>
                    <a href="#logout" class="toc-h2 toc-link" data-title="Logout">Logout</a>
                  </li>
                  <li>
                    <a href="#refresh-token" class="toc-h2 toc-link" data-title="Refresh Token">Refresh Token</a>
                  </li>
                  <li>
                    <a href="#forgot-password" class="toc-h2 toc-link" data-title="Forgot Password">Forgot Password</a>
                  </li>
                  <li>
                    <a href="#update-forgotten-password" class="toc-h2 toc-link" data-title="Update Forgotten Password">Update Forgotten Password</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#user" class="toc-h1 toc-link" data-title="User">User</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#user-type" class="toc-h2 toc-link" data-title="User Type">User Type</a>
                  </li>
                  <li>
                    <a href="#create-user" class="toc-h2 toc-link" data-title="Create User">Create User</a>
                  </li>
                  <li>
                    <a href="#view-user" class="toc-h2 toc-link" data-title="View User">View User</a>
                  </li>
                  <li>
                    <a href="#list-users" class="toc-h2 toc-link" data-title="List Users">List Users</a>
                  </li>
                  <li>
                    <a href="#update-user" class="toc-h2 toc-link" data-title="Update User">Update User</a>
                  </li>
                  <li>
                    <a href="#delete-user" class="toc-h2 toc-link" data-title="Delete User">Delete User</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://www.jarvisanalytics.com' target='_blank'>To learn more about Jarvis Analytics</a></li>
            <li><a href='https://mesasix.com' target='_blank'>Service Provided by Mesasix</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to Jarvis Analytics API/GraphQL documentation. Here you can find useful API endpoints for this product/service.</p>

<p>Jarvis Analytics is designed from the ground up, a HIPAA compliant, web based solution, that can seamlessly interface to leading Practice Management Software/EHR and supercharge your practice performance.</p>

<p>Accessible, anytime, anywhere and on any device.</p>
<h1 id='graphql'>GraphQL</h1>
<p>The API is based on GraphQL pattern. </p>

<p>GraphQL is an open-source data query and manipulation language for APIs, and a runtime for fulfilling queries with existing data. GraphQL is a query language for your API, and a server-side runtime for executing queries by using a type system you define for your data. </p>

<p>To learn more, see <a href="http://graphql.org/learn/">GraphQL</a></p>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url http://localhost:8000/graphql <span class="se">\</span>
  --header <span class="s1">'authorization: Bearer {access_token}'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"query":""}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"http://localhost:8000/graphql"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
    <span class="s2">"authorization"</span><span class="p">:</span> <span class="s2">"Bearer {access_token}"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"query\":\"\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Client</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Client\Request</span><span class="p">;</span>

<span class="nv">$body</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Message\Body</span><span class="p">;</span>
<span class="nv">$body</span><span class="o">-&gt;</span><span class="na">append</span><span class="p">(</span><span class="s1">'{"query":""}'</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setRequestUrl</span><span class="p">(</span><span class="s1">'http://localhost:8000/graphql'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setRequestMethod</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="nv">$body</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'content-type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access_token}'</span>
<span class="p">));</span>

<span class="nv">$client</span><span class="o">-&gt;</span><span class="na">enqueue</span><span class="p">(</span><span class="nv">$request</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">getResponse</span><span class="p">();</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"http://localhost:8000/graphql"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"authorization"</span><span class="o">,</span> <span class="s">"Bearer {access_token}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"query\":\"\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="k">let</span> <span class="nv">headers</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s">"content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"authorization"</span><span class="p">:</span> <span class="s">"Bearer {access_token}"</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">postData</span> <span class="o">=</span> <span class="kt">NSData</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="s">"{"</span><span class="n">query</span><span class="s">":""}"</span><span class="o">.</span><span class="nf">data</span><span class="p">(</span><span class="nv">using</span><span class="p">:</span> <span class="kt">String</span><span class="o">.</span><span class="kt">Encoding</span><span class="o">.</span><span class="n">utf8</span><span class="p">)</span><span class="o">!</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">NSMutableURLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="kt">NSURL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"http://localhost:8000/graphql"</span><span class="p">)</span><span class="o">!</span> <span class="k">as</span> <span class="kt">URL</span><span class="p">,</span>
                                        <span class="nv">cachePolicy</span><span class="p">:</span> <span class="o">.</span><span class="n">useProtocolCachePolicy</span><span class="p">,</span>
                                    <span class="nv">timeoutInterval</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpMethod</span> <span class="o">=</span> <span class="s">"POST"</span>
<span class="n">request</span><span class="o">.</span><span class="n">allHTTPHeaderFields</span> <span class="o">=</span> <span class="n">headers</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpBody</span> <span class="o">=</span> <span class="n">postData</span> <span class="k">as</span> <span class="kt">Data</span>

<span class="k">let</span> <span class="nv">session</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span>
<span class="k">let</span> <span class="nv">dataTask</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span> <span class="k">as</span> <span class="kt">URLRequest</span><span class="p">,</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="k">in</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">httpResponse</span> <span class="o">=</span> <span class="n">response</span> <span class="k">as?</span> <span class="kt">HTTPURLResponse</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="n">dataTask</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Make sure to replace <code>{access_token}</code> with your assigned access token.</p>
</blockquote>

<p>The API needs an access token. To get your access token, you can login with your email and password using the <code>login()</code> endpoint.</p>

<p>The API expects that you have a Authorization Bearer header attached to your request, see following:</p>

<p><code>Authorization: Bearer {access_token}</code></p>

<aside class="notice">
You must replace <code>{access_token}</code> with your assigned access token.
</aside>
<h2 id='login'>Login</h2>
<p>Allows a user to be authenticated and returns it&#39;s assigned <code>{access token}</code> credentials.</p>

<blockquote>
<p>GraphQL Query:</p>
</blockquote>
<pre class="highlight plaintext"><code>mutation {
  login(data: {username: "john@doe.com", password: "secret"}) {
    access_token
    refresh_token
    expires_in
    token_type
  }
}
</code></pre>
<p><strong>Input Parameters:</strong></p>

<table><thead>
<tr>
<th>Fields</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td><strong>username</strong></td>
<td>yes</td>
</tr>
<tr>
<td><strong>password</strong></td>
<td>yes</td>
</tr>
</tbody></table>

<aside class="notice">
This <strong>does not</strong> require an <a href="#authentication">authentication</a>.
</aside>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url http://localhost:8000/graphql <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"query":"mutation {\n  login(data: {username: \"john@doe.com\", password: \"secret\"}) {\n    access_token\n    refresh_token\n    expires_in\n    token_type\n  }\n}\n"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"http://localhost:8000/graphql"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"query\":\"mutation {\\n  login(data: {username: \\\"john@doe.com\\\", password: \\\"secret\\\"}) {\\n    access_token\\n    refresh_token\\n    expires_in\\n    token_type\\n  }\\n}\\n\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Client</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Client\Request</span><span class="p">;</span>

<span class="nv">$body</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Message\Body</span><span class="p">;</span>
<span class="nv">$body</span><span class="o">-&gt;</span><span class="na">append</span><span class="p">(</span><span class="s1">'{"query":"mutation {\\n  login(data: {username: \\"john@doe.com\\", password: \\"secret\\"}) {\\n    access_token\\n    refresh_token\\n    expires_in\\n    token_type\\n  }\\n}\\n"}'</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setRequestUrl</span><span class="p">(</span><span class="s1">'http://localhost:8000/graphql'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setRequestMethod</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="nv">$body</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'content-type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span>
<span class="p">));</span>

<span class="nv">$client</span><span class="o">-&gt;</span><span class="na">enqueue</span><span class="p">(</span><span class="nv">$request</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">getResponse</span><span class="p">();</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"http://localhost:8000/graphql"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"query\":\"mutation {\\n  login(data: {username: \\\"john@doe.com\\\", password: \\\"secret\\\"}) {\\n    access_token\\n    refresh_token\\n    expires_in\\n    token_type\\n  }\\n}\\n\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="k">let</span> <span class="nv">headers</span> <span class="o">=</span> <span class="p">[</span><span class="s">"content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">]</span>

<span class="k">let</span> <span class="nv">postData</span> <span class="o">=</span> <span class="kt">NSData</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="s">"{"</span><span class="n">query</span><span class="s">":"</span><span class="n">mutation</span> <span class="p">{</span><span class="err">\</span><span class="n">n</span>  <span class="nf">login</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="p">{</span><span class="nv">username</span><span class="p">:</span> <span class="err">\</span><span class="s">"john@doe.com</span><span class="se">\"</span><span class="s">, password: </span><span class="se">\"</span><span class="s">secret</span><span class="se">\"</span><span class="s">}) {</span><span class="se">\n</span><span class="s">    access_token</span><span class="se">\n</span><span class="s">    refresh_token</span><span class="se">\n</span><span class="s">    expires_in</span><span class="se">\n</span><span class="s">    token_type</span><span class="se">\n</span><span class="s">  }</span><span class="se">\n</span><span class="s">}</span><span class="se">\n</span><span class="s">"</span><span class="p">}</span><span class="s">".data(using: String.Encoding.utf8)!)

let request = NSMutableURLRequest(url: NSURL(string: "</span><span class="nv">http</span><span class="p">:</span><span class="c1">//localhost:8000/graphql")! as URL,</span>
                                        <span class="nv">cachePolicy</span><span class="p">:</span> <span class="o">.</span><span class="n">useProtocolCachePolicy</span><span class="p">,</span>
                                    <span class="nv">timeoutInterval</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpMethod</span> <span class="o">=</span> <span class="s">"POST"</span>
<span class="n">request</span><span class="o">.</span><span class="n">allHTTPHeaderFields</span> <span class="o">=</span> <span class="n">headers</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpBody</span> <span class="o">=</span> <span class="n">postData</span> <span class="k">as</span> <span class="kt">Data</span>

<span class="k">let</span> <span class="nv">session</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span>
<span class="k">let</span> <span class="nv">dataTask</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span> <span class="k">as</span> <span class="kt">URLRequest</span><span class="p">,</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="k">in</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">httpResponse</span> <span class="o">=</span> <span class="n">response</span> <span class="k">as?</span> <span class="kt">HTTPURLResponse</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="n">dataTask</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjcxYmFmNzNjNGRhZWZlMGEwMmYzMmVmNWQzMjAwMzhiZDAwMzVlMzg4MDNhMjkxOTZhYjQzY2VkNjg4OGQ3OWY0MWZkNmRjNWNjODFmN2EzIn0.eyJhdWQiOiIyIiwianRpIjoiNzFiYWY3M2M0ZGFlZmUwYTAyZjMyZWY1ZDMyMDAzOGJkMDAzNWUzODgwM2EyOTE5NmFiNDNjZWQ2ODg4ZDc5ZjQxZmQ2ZGM1Y2M4MWY3YTMiLCJpYXQiOjE1NTkyMjY1NDEsIm5iZiI6MTU1OTIyNjU0MSwiZXhwIjoxNTkwODQ4OTQxLCJzdWIiOiIzODYiLCJzY29wZXMiOltdfQ.xNcLkJNTG4c0VYRB1MI7ZmW0ZEc_HJBNLJw1AmKedTK0pL5T2Tc7s0feRtbBU731tt2imu5kumssDExf3WNZkTIsumwRRg4PNdatbGhVuruHJ7pcdvc8dTIsEB8ECWoVMVjNrZPLOshEoDVRk5sX5OqbRLCWqdGGVle33D1ozHP7-q_sbL9iv2OUUg4gfl36EYMgAUoVA6OKbWUlVyLba7QZGq9BHf9g4W9Vdd6x5jHMULFPIAVACSGJJDJmTcRoNFH5zdtYAHAwuWgvngbAIHIOiYZGo3P_1nW0stTLq8tFg36iGVLtWU3yUWbKVPiBDwbxI4PQW2iOGBOLSyveOIn7VqCPDZoRnXNdcp_u_Ix51Or8YYbWKc61Vd6CM6zllnM3XgiImE9Mua7yH6TTHtd-l2DV2CX20O6q27ZDlOxJ-WVzziioAWxhioX6GyACiUc5M9YgkC4QswSYSbtPYPgOGh9N3enqUXTrnjHybkPwgxOd9kAfVoPL5f4qoMEHxxr5tpoZAtYU5lhlp12ktEDyP4_Kgzu25qpi6MejdQOVKBA0EkRtYQM3DpIK9Kv7oihG-sb_vLw3shHDF0x1lxQMoZ2rgVL-9zEszKhwmXNXn6VDzGuwh4AksKW74lLkpdTZT27_7-_VYios-JDKOvBkMSWzer8uAWabZMCra1U"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"def50200820cae791fb2eccb2ee08c0044d71e38d57ed7eec6c2072a6e5250e6cc28e978c919d26eda47ee5c1165b7969ad8178cae4cecac6c2c39865470f8bda7db7f61e198b78a11691ea9d022103a81ec0757151243283e930361c84935f44f3da2aec5f7e29fea096bb5c5e39cd025adefcc38c2d1f2b78809a5deec74633d60266dffd0d34331d5c80e76be0a7142a4d7c20657f299e0756b09f2ab90a93f6ea9db936fd40e6119973b19d0eb65467372804b19fc8edb4ace09968d03e4b4ccd59f4bb99f15674ba7adff614ee73b6254aa243bf47648bf7c50bf6382b898c6765170cdc373a89e8cb773da408f90251b7616e59d52c82f129c8fd537e453a6ffd7e6c45d04d669509b695e1f62bc2d87a9206805a7d5a29c6a677897912cccd6c236f8dbbe0bdf31cfbb6d6f245d273e047a66886d5705d85e1d45ae08a8f51d9fa62b7335a25f7d320803e4ccb3d8893c4e78df53208211c99794e7ed5d436c"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">31622400</span><span class="p">,</span><span class="w">
      </span><span class="s2">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='me'>Me</h2>
<p>Allows to view the current authenticated user.</p>

<blockquote>
<p>GraphQL Query:</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  me {
    id
    uuid
    name
    email
    role
    company_id
    parent_id
    admin_token
    profile_picture
    first_login
    last_login
    tfa_secret
    created_at
    updated_at
  }
}

</code></pre>
<aside class="notice">
This requires an <a href="#authentication">authentication</a>.
</aside>

<aside class="success">
This returns a paginated <a href="#user-type">User Type</a>.
</aside>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url http://localhost:8000/graphql <span class="se">\</span>
  --header <span class="s1">'authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImUwOWQ2OGY4MDcwYTQwNjc5YTI5MzdkYTk0NTkyNDNjZGE1ODkwZDAzZGNlZmRjNGY5YzFhOTNlNmE1ZWRiZjZjM2Q1OWVlMjgyZDhiNGU1In0.eyJhdWQiOiIyIiwianRpIjoiZTA5ZDY4ZjgwNzBhNDA2NzlhMjkzN2RhOTQ1OTI0M2NkYTU4OTBkMDNkY2VmZGM0ZjljMWE5M2U2YTVlZGJmNmMzZDU5ZWUyODJkOGI0ZTUiLCJpYXQiOjE1NTkzMjY0MDUsIm5iZiI6MTU1OTMyNjQwNSwiZXhwIjoxNTkwOTQ4ODA1LCJzdWIiOiI0MzYiLCJzY29wZXMiOltdfQ.6miluE4R6POa34N2I23mbApCtRNYI_C2lQrfQksbZ7lswNT7ACtNkqfEkcWkuBKHL4KiLikYTEllqZxQx5FhCSFDmvNbMoKw3yJU1JK0y4g1bG_iZGuqoFC32I-Pqn4Rb7j-xHM_zLAb7PumBJlGQZ9ezBS75dZ6CqZd2u3g-kdMgheCrv0SkxK7ZiXYABXNt0droUY3WadTAi_J7H-fftJ--_GWKQg9Jdue3HKcI5tTP5dLHM2hI0C0IO3axdjpG8Q35JhjOukybEGL1NLOouzNWYSm2lRGKIenvbfFIC7drwn1w_fu19iEcfA370clTbbNZwWMcdgQJbJW9QL4Cxj5AbF06Fyyhu73oYR5LiNE5sDNymg_G3iP5Meyf5RWab5SPPSAgagMmeS2yOCc9rIEw6VqUsuQl0mef_ogWdUJ5Ku3AYpd1bb6I6gt1Kf4Cm0w5BuF-LofJkmLxnk1RRLaXgObDyLrzIYjOfrNcuzmMXiD4eaeNJtiuM2Erh0zG3AsYnognopDnOk2CGACMYqbGSs0OU7v-eUOe7jVMdnwlAN1wh5CI28cdi8VWf2x9AtHpBIGpI4xVC8xCnsEGw41sHG1K3gmejRwU0LYNEzv3AzRyq8mDSQfcQkNVTfJnVGBWHJzfHr8DHLLA-1PiPTR8VtexMKTV1v6mr6cnUs'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"query":"{\n  me {\n    id\n    uuid\n    name\n    email\n    role\n    company_id\n    parent_id\n    admin_token\n    profile_picture\n    first_login\n    last_login\n    tfa_secret\n    created_at\n    updated_at\n  }\n}\n"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"http://localhost:8000/graphql"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
    <span class="s2">"authorization"</span><span class="p">:</span> <span class="s2">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImUwOWQ2OGY4MDcwYTQwNjc5YTI5MzdkYTk0NTkyNDNjZGE1ODkwZDAzZGNlZmRjNGY5YzFhOTNlNmE1ZWRiZjZjM2Q1OWVlMjgyZDhiNGU1In0.eyJhdWQiOiIyIiwianRpIjoiZTA5ZDY4ZjgwNzBhNDA2NzlhMjkzN2RhOTQ1OTI0M2NkYTU4OTBkMDNkY2VmZGM0ZjljMWE5M2U2YTVlZGJmNmMzZDU5ZWUyODJkOGI0ZTUiLCJpYXQiOjE1NTkzMjY0MDUsIm5iZiI6MTU1OTMyNjQwNSwiZXhwIjoxNTkwOTQ4ODA1LCJzdWIiOiI0MzYiLCJzY29wZXMiOltdfQ.6miluE4R6POa34N2I23mbApCtRNYI_C2lQrfQksbZ7lswNT7ACtNkqfEkcWkuBKHL4KiLikYTEllqZxQx5FhCSFDmvNbMoKw3yJU1JK0y4g1bG_iZGuqoFC32I-Pqn4Rb7j-xHM_zLAb7PumBJlGQZ9ezBS75dZ6CqZd2u3g-kdMgheCrv0SkxK7ZiXYABXNt0droUY3WadTAi_J7H-fftJ--_GWKQg9Jdue3HKcI5tTP5dLHM2hI0C0IO3axdjpG8Q35JhjOukybEGL1NLOouzNWYSm2lRGKIenvbfFIC7drwn1w_fu19iEcfA370clTbbNZwWMcdgQJbJW9QL4Cxj5AbF06Fyyhu73oYR5LiNE5sDNymg_G3iP5Meyf5RWab5SPPSAgagMmeS2yOCc9rIEw6VqUsuQl0mef_ogWdUJ5Ku3AYpd1bb6I6gt1Kf4Cm0w5BuF-LofJkmLxnk1RRLaXgObDyLrzIYjOfrNcuzmMXiD4eaeNJtiuM2Erh0zG3AsYnognopDnOk2CGACMYqbGSs0OU7v-eUOe7jVMdnwlAN1wh5CI28cdi8VWf2x9AtHpBIGpI4xVC8xCnsEGw41sHG1K3gmejRwU0LYNEzv3AzRyq8mDSQfcQkNVTfJnVGBWHJzfHr8DHLLA-1PiPTR8VtexMKTV1v6mr6cnUs"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"query\":\"{\\n  me {\\n    id\\n    uuid\\n    name\\n    email\\n    role\\n    company_id\\n    parent_id\\n    admin_token\\n    profile_picture\\n    first_login\\n    last_login\\n    tfa_secret\\n    created_at\\n    updated_at\\n  }\\n}\\n\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Client</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Client\Request</span><span class="p">;</span>

<span class="nv">$body</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Message\Body</span><span class="p">;</span>
<span class="nv">$body</span><span class="o">-&gt;</span><span class="na">append</span><span class="p">(</span><span class="s1">'{"query":"{\\n  me {\\n    id\\n    uuid\\n    name\\n    email\\n    role\\n    company_id\\n    parent_id\\n    admin_token\\n    profile_picture\\n    first_login\\n    last_login\\n    tfa_secret\\n    created_at\\n    updated_at\\n  }\\n}\\n"}'</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setRequestUrl</span><span class="p">(</span><span class="s1">'http://localhost:8000/graphql'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setRequestMethod</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="nv">$body</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'content-type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImUwOWQ2OGY4MDcwYTQwNjc5YTI5MzdkYTk0NTkyNDNjZGE1ODkwZDAzZGNlZmRjNGY5YzFhOTNlNmE1ZWRiZjZjM2Q1OWVlMjgyZDhiNGU1In0.eyJhdWQiOiIyIiwianRpIjoiZTA5ZDY4ZjgwNzBhNDA2NzlhMjkzN2RhOTQ1OTI0M2NkYTU4OTBkMDNkY2VmZGM0ZjljMWE5M2U2YTVlZGJmNmMzZDU5ZWUyODJkOGI0ZTUiLCJpYXQiOjE1NTkzMjY0MDUsIm5iZiI6MTU1OTMyNjQwNSwiZXhwIjoxNTkwOTQ4ODA1LCJzdWIiOiI0MzYiLCJzY29wZXMiOltdfQ.6miluE4R6POa34N2I23mbApCtRNYI_C2lQrfQksbZ7lswNT7ACtNkqfEkcWkuBKHL4KiLikYTEllqZxQx5FhCSFDmvNbMoKw3yJU1JK0y4g1bG_iZGuqoFC32I-Pqn4Rb7j-xHM_zLAb7PumBJlGQZ9ezBS75dZ6CqZd2u3g-kdMgheCrv0SkxK7ZiXYABXNt0droUY3WadTAi_J7H-fftJ--_GWKQg9Jdue3HKcI5tTP5dLHM2hI0C0IO3axdjpG8Q35JhjOukybEGL1NLOouzNWYSm2lRGKIenvbfFIC7drwn1w_fu19iEcfA370clTbbNZwWMcdgQJbJW9QL4Cxj5AbF06Fyyhu73oYR5LiNE5sDNymg_G3iP5Meyf5RWab5SPPSAgagMmeS2yOCc9rIEw6VqUsuQl0mef_ogWdUJ5Ku3AYpd1bb6I6gt1Kf4Cm0w5BuF-LofJkmLxnk1RRLaXgObDyLrzIYjOfrNcuzmMXiD4eaeNJtiuM2Erh0zG3AsYnognopDnOk2CGACMYqbGSs0OU7v-eUOe7jVMdnwlAN1wh5CI28cdi8VWf2x9AtHpBIGpI4xVC8xCnsEGw41sHG1K3gmejRwU0LYNEzv3AzRyq8mDSQfcQkNVTfJnVGBWHJzfHr8DHLLA-1PiPTR8VtexMKTV1v6mr6cnUs'</span>
<span class="p">));</span>

<span class="nv">$client</span><span class="o">-&gt;</span><span class="na">enqueue</span><span class="p">(</span><span class="nv">$request</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">getResponse</span><span class="p">();</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"http://localhost:8000/graphql"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"authorization"</span><span class="o">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImUwOWQ2OGY4MDcwYTQwNjc5YTI5MzdkYTk0NTkyNDNjZGE1ODkwZDAzZGNlZmRjNGY5YzFhOTNlNmE1ZWRiZjZjM2Q1OWVlMjgyZDhiNGU1In0.eyJhdWQiOiIyIiwianRpIjoiZTA5ZDY4ZjgwNzBhNDA2NzlhMjkzN2RhOTQ1OTI0M2NkYTU4OTBkMDNkY2VmZGM0ZjljMWE5M2U2YTVlZGJmNmMzZDU5ZWUyODJkOGI0ZTUiLCJpYXQiOjE1NTkzMjY0MDUsIm5iZiI6MTU1OTMyNjQwNSwiZXhwIjoxNTkwOTQ4ODA1LCJzdWIiOiI0MzYiLCJzY29wZXMiOltdfQ.6miluE4R6POa34N2I23mbApCtRNYI_C2lQrfQksbZ7lswNT7ACtNkqfEkcWkuBKHL4KiLikYTEllqZxQx5FhCSFDmvNbMoKw3yJU1JK0y4g1bG_iZGuqoFC32I-Pqn4Rb7j-xHM_zLAb7PumBJlGQZ9ezBS75dZ6CqZd2u3g-kdMgheCrv0SkxK7ZiXYABXNt0droUY3WadTAi_J7H-fftJ--_GWKQg9Jdue3HKcI5tTP5dLHM2hI0C0IO3axdjpG8Q35JhjOukybEGL1NLOouzNWYSm2lRGKIenvbfFIC7drwn1w_fu19iEcfA370clTbbNZwWMcdgQJbJW9QL4Cxj5AbF06Fyyhu73oYR5LiNE5sDNymg_G3iP5Meyf5RWab5SPPSAgagMmeS2yOCc9rIEw6VqUsuQl0mef_ogWdUJ5Ku3AYpd1bb6I6gt1Kf4Cm0w5BuF-LofJkmLxnk1RRLaXgObDyLrzIYjOfrNcuzmMXiD4eaeNJtiuM2Erh0zG3AsYnognopDnOk2CGACMYqbGSs0OU7v-eUOe7jVMdnwlAN1wh5CI28cdi8VWf2x9AtHpBIGpI4xVC8xCnsEGw41sHG1K3gmejRwU0LYNEzv3AzRyq8mDSQfcQkNVTfJnVGBWHJzfHr8DHLLA-1PiPTR8VtexMKTV1v6mr6cnUs"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"query\":\"{\\n  me {\\n    id\\n    uuid\\n    name\\n    email\\n    role\\n    company_id\\n    parent_id\\n    admin_token\\n    profile_picture\\n    first_login\\n    last_login\\n    tfa_secret\\n    created_at\\n    updated_at\\n  }\\n}\\n\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="k">let</span> <span class="nv">headers</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s">"content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"authorization"</span><span class="p">:</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImUwOWQ2OGY4MDcwYTQwNjc5YTI5MzdkYTk0NTkyNDNjZGE1ODkwZDAzZGNlZmRjNGY5YzFhOTNlNmE1ZWRiZjZjM2Q1OWVlMjgyZDhiNGU1In0.eyJhdWQiOiIyIiwianRpIjoiZTA5ZDY4ZjgwNzBhNDA2NzlhMjkzN2RhOTQ1OTI0M2NkYTU4OTBkMDNkY2VmZGM0ZjljMWE5M2U2YTVlZGJmNmMzZDU5ZWUyODJkOGI0ZTUiLCJpYXQiOjE1NTkzMjY0MDUsIm5iZiI6MTU1OTMyNjQwNSwiZXhwIjoxNTkwOTQ4ODA1LCJzdWIiOiI0MzYiLCJzY29wZXMiOltdfQ.6miluE4R6POa34N2I23mbApCtRNYI_C2lQrfQksbZ7lswNT7ACtNkqfEkcWkuBKHL4KiLikYTEllqZxQx5FhCSFDmvNbMoKw3yJU1JK0y4g1bG_iZGuqoFC32I-Pqn4Rb7j-xHM_zLAb7PumBJlGQZ9ezBS75dZ6CqZd2u3g-kdMgheCrv0SkxK7ZiXYABXNt0droUY3WadTAi_J7H-fftJ--_GWKQg9Jdue3HKcI5tTP5dLHM2hI0C0IO3axdjpG8Q35JhjOukybEGL1NLOouzNWYSm2lRGKIenvbfFIC7drwn1w_fu19iEcfA370clTbbNZwWMcdgQJbJW9QL4Cxj5AbF06Fyyhu73oYR5LiNE5sDNymg_G3iP5Meyf5RWab5SPPSAgagMmeS2yOCc9rIEw6VqUsuQl0mef_ogWdUJ5Ku3AYpd1bb6I6gt1Kf4Cm0w5BuF-LofJkmLxnk1RRLaXgObDyLrzIYjOfrNcuzmMXiD4eaeNJtiuM2Erh0zG3AsYnognopDnOk2CGACMYqbGSs0OU7v-eUOe7jVMdnwlAN1wh5CI28cdi8VWf2x9AtHpBIGpI4xVC8xCnsEGw41sHG1K3gmejRwU0LYNEzv3AzRyq8mDSQfcQkNVTfJnVGBWHJzfHr8DHLLA-1PiPTR8VtexMKTV1v6mr6cnUs"</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">postData</span> <span class="o">=</span> <span class="kt">NSData</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="s">"{"</span><span class="n">query</span><span class="s">":"</span><span class="p">{</span><span class="err">\</span><span class="n">n</span>  <span class="n">me</span> <span class="p">{</span><span class="err">\</span><span class="n">n</span>    <span class="n">id</span><span class="err">\</span><span class="n">n</span>    <span class="n">uuid</span><span class="err">\</span><span class="n">n</span>    <span class="n">name</span><span class="err">\</span><span class="n">n</span>    <span class="n">email</span><span class="err">\</span><span class="n">n</span>    <span class="n">role</span><span class="err">\</span><span class="n">n</span>    <span class="n">company_id</span><span class="err">\</span><span class="n">n</span>    <span class="n">parent_id</span><span class="err">\</span><span class="n">n</span>    <span class="n">admin_token</span><span class="err">\</span><span class="n">n</span>    <span class="n">profile_picture</span><span class="err">\</span><span class="n">n</span>    <span class="n">first_login</span><span class="err">\</span><span class="n">n</span>    <span class="n">last_login</span><span class="err">\</span><span class="n">n</span>    <span class="n">tfa_secret</span><span class="err">\</span><span class="n">n</span>    <span class="n">created_at</span><span class="err">\</span><span class="n">n</span>    <span class="n">updated_at</span><span class="err">\</span><span class="n">n</span>  <span class="p">}</span><span class="err">\</span><span class="n">n</span><span class="p">}</span><span class="err">\</span><span class="n">n</span><span class="s">"}"</span><span class="o">.</span><span class="nf">data</span><span class="p">(</span><span class="nv">using</span><span class="p">:</span> <span class="kt">String</span><span class="o">.</span><span class="kt">Encoding</span><span class="o">.</span><span class="n">utf8</span><span class="p">)</span><span class="o">!</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">NSMutableURLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="kt">NSURL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"http://localhost:8000/graphql"</span><span class="p">)</span><span class="o">!</span> <span class="k">as</span> <span class="kt">URL</span><span class="p">,</span>
                                        <span class="nv">cachePolicy</span><span class="p">:</span> <span class="o">.</span><span class="n">useProtocolCachePolicy</span><span class="p">,</span>
                                    <span class="nv">timeoutInterval</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpMethod</span> <span class="o">=</span> <span class="s">"POST"</span>
<span class="n">request</span><span class="o">.</span><span class="n">allHTTPHeaderFields</span> <span class="o">=</span> <span class="n">headers</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpBody</span> <span class="o">=</span> <span class="n">postData</span> <span class="k">as</span> <span class="kt">Data</span>

<span class="k">let</span> <span class="nv">session</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span>
<span class="k">let</span> <span class="nv">dataTask</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span> <span class="k">as</span> <span class="kt">URLRequest</span><span class="p">,</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="k">in</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">httpResponse</span> <span class="o">=</span> <span class="n">response</span> <span class="k">as?</span> <span class="kt">HTTPURLResponse</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="n">dataTask</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"me"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"436"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"912a6cd0-3f84-4703-972f-76380105a415"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john15@doe.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscriber"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"912a6cd0-3f84-4703-972f-76380105a413"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"admin_token"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"profile_picture"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"first_login"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_login"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tfa_secret"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-31 17:06:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-31 17:06:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='logout'>Logout</h2>
<p>Allows a user to be logged out.</p>

<blockquote>
<p>GraphQL Query:</p>
</blockquote>
<pre class="highlight plaintext"><code>mutation {
  logout {
    status
    message
  }
}
</code></pre>
<aside class="notice">
This requires an <a href="#authentication">authentication</a>
</aside>

<aside class="notice">
You must replace <code>{access_token}</code> with your assigned access token.
</aside>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url http://localhost:8000/graphql <span class="se">\</span>
  --header <span class="s1">'authorization: Bearer {access_token}'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"query":"mutation {\n  logout {\n    status\n    message\n  }\n}\n"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"http://localhost:8000/graphql"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
    <span class="s2">"authorization"</span><span class="p">:</span> <span class="s2">"Bearer {access_token}"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"query\":\"mutation {\\n  logout {\\n    status\\n    message\\n  }\\n}\\n\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Client</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Client\Request</span><span class="p">;</span>

<span class="nv">$body</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Message\Body</span><span class="p">;</span>
<span class="nv">$body</span><span class="o">-&gt;</span><span class="na">append</span><span class="p">(</span><span class="s1">'{"query":"mutation {\\n  logout {\\n    status\\n    message\\n  }\\n}\\n"}'</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setRequestUrl</span><span class="p">(</span><span class="s1">'http://localhost:8000/graphql'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setRequestMethod</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="nv">$body</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'content-type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access_token}'</span>
<span class="p">));</span>

<span class="nv">$client</span><span class="o">-&gt;</span><span class="na">enqueue</span><span class="p">(</span><span class="nv">$request</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">getResponse</span><span class="p">();</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"http://localhost:8000/graphql"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"authorization"</span><span class="o">,</span> <span class="s">"Bearer {access_token}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"query\":\"mutation {\\n  logout {\\n    status\\n    message\\n  }\\n}\\n\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="k">let</span> <span class="nv">headers</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s">"content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"authorization"</span><span class="p">:</span> <span class="s">"Bearer {access_token}"</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">postData</span> <span class="o">=</span> <span class="kt">NSData</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="s">"{"</span><span class="n">query</span><span class="s">":"</span><span class="n">mutation</span> <span class="p">{</span><span class="err">\</span><span class="n">n</span>  <span class="n">logout</span> <span class="p">{</span><span class="err">\</span><span class="n">n</span>    <span class="n">status</span><span class="err">\</span><span class="n">n</span>    <span class="n">message</span><span class="err">\</span><span class="n">n</span>  <span class="p">}</span><span class="err">\</span><span class="n">n</span><span class="p">}</span><span class="err">\</span><span class="n">n</span><span class="s">"}"</span><span class="o">.</span><span class="nf">data</span><span class="p">(</span><span class="nv">using</span><span class="p">:</span> <span class="kt">String</span><span class="o">.</span><span class="kt">Encoding</span><span class="o">.</span><span class="n">utf8</span><span class="p">)</span><span class="o">!</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">NSMutableURLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="kt">NSURL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"http://localhost:8000/graphql"</span><span class="p">)</span><span class="o">!</span> <span class="k">as</span> <span class="kt">URL</span><span class="p">,</span>
                                        <span class="nv">cachePolicy</span><span class="p">:</span> <span class="o">.</span><span class="n">useProtocolCachePolicy</span><span class="p">,</span>
                                    <span class="nv">timeoutInterval</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpMethod</span> <span class="o">=</span> <span class="s">"POST"</span>
<span class="n">request</span><span class="o">.</span><span class="n">allHTTPHeaderFields</span> <span class="o">=</span> <span class="n">headers</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpBody</span> <span class="o">=</span> <span class="n">postData</span> <span class="k">as</span> <span class="kt">Data</span>

<span class="k">let</span> <span class="nv">session</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span>
<span class="k">let</span> <span class="nv">dataTask</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span> <span class="k">as</span> <span class="kt">URLRequest</span><span class="p">,</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="k">in</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">httpResponse</span> <span class="o">=</span> <span class="n">response</span> <span class="k">as?</span> <span class="kt">HTTPURLResponse</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="n">dataTask</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"logout"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOKEN_REVOKED"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your session has been terminated"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='refresh-token'>Refresh Token</h2>
<p>For short-lived access tokens, users can refresh access tokens via the refresh token that was provided by <a href="#login">login()</a>.</p>

<blockquote>
<p>GraphQL Query:</p>
</blockquote>
<pre class="highlight plaintext"><code>mutation {
  refreshToken(data: {
    refresh_token: "{request_token}"}) {
    access_token
    refresh_token
    expires_in
    token_type
  }
}
</code></pre>
<p><strong>Input Parameters:</strong></p>

<table><thead>
<tr>
<th>Fields</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td><strong>request_token</strong></td>
<td>yes</td>
</tr>
</tbody></table>

<aside class="notice">
This <strong>does not</strong> require an <a href="#authentication">authentication</a>.
</aside>

<aside class="notice">
You must replace <code>{request_token}</code> with your request token.
</aside>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url http://localhost:8000/graphql <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"query":"mutation {\n  refreshToken(data: {\n    refresh_token: \"{request_token}\"}) {\n    access_token\n    refresh_token\n    expires_in\n    token_type\n  }\n}\n"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"http://localhost:8000/graphql"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"query\":\"mutation {\\n  refreshToken(data: {\\n    refresh_token: \\\"{request_token}\\\"}) {\\n    access_token\\n    refresh_token\\n    expires_in\\n    token_type\\n  }\\n}\\n\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Client</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Client\Request</span><span class="p">;</span>

<span class="nv">$body</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Message\Body</span><span class="p">;</span>
<span class="nv">$body</span><span class="o">-&gt;</span><span class="na">append</span><span class="p">(</span><span class="s1">'{"query":"mutation {\\n  refreshToken(data: {\\n    refresh_token: \\"{request_token}\\"}) {\\n    access_token\\n    refresh_token\\n    expires_in\\n    token_type\\n  }\\n}\\n"}'</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setRequestUrl</span><span class="p">(</span><span class="s1">'http://localhost:8000/graphql'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setRequestMethod</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="nv">$body</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'content-type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span>
<span class="p">));</span>

<span class="nv">$client</span><span class="o">-&gt;</span><span class="na">enqueue</span><span class="p">(</span><span class="nv">$request</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">getResponse</span><span class="p">();</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"http://localhost:8000/graphql"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"query\":\"mutation {\\n  refreshToken(data: {\\n    refresh_token: \\\"{request_token}\\\"}) {\\n    access_token\\n    refresh_token\\n    expires_in\\n    token_type\\n  }\\n}\\n\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="k">let</span> <span class="nv">headers</span> <span class="o">=</span> <span class="p">[</span><span class="s">"content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">]</span>

<span class="k">let</span> <span class="nv">postData</span> <span class="o">=</span> <span class="kt">NSData</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="s">"{"</span><span class="n">query</span><span class="s">":"</span><span class="n">mutation</span> <span class="p">{</span><span class="err">\</span><span class="n">n</span>  <span class="nf">refreshToken</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="p">{</span><span class="err">\</span><span class="n">n</span>    <span class="nv">refresh_token</span><span class="p">:</span> <span class="err">\</span><span class="s">"{request_token}</span><span class="se">\"</span><span class="s">}) {</span><span class="se">\n</span><span class="s">    access_token</span><span class="se">\n</span><span class="s">    refresh_token</span><span class="se">\n</span><span class="s">    expires_in</span><span class="se">\n</span><span class="s">    token_type</span><span class="se">\n</span><span class="s">  }</span><span class="se">\n</span><span class="s">}</span><span class="se">\n</span><span class="s">"</span><span class="p">}</span><span class="s">".data(using: String.Encoding.utf8)!)

let request = NSMutableURLRequest(url: NSURL(string: "</span><span class="nv">http</span><span class="p">:</span><span class="c1">//localhost:8000/graphql")! as URL,</span>
                                        <span class="nv">cachePolicy</span><span class="p">:</span> <span class="o">.</span><span class="n">useProtocolCachePolicy</span><span class="p">,</span>
                                    <span class="nv">timeoutInterval</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpMethod</span> <span class="o">=</span> <span class="s">"POST"</span>
<span class="n">request</span><span class="o">.</span><span class="n">allHTTPHeaderFields</span> <span class="o">=</span> <span class="n">headers</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpBody</span> <span class="o">=</span> <span class="n">postData</span> <span class="k">as</span> <span class="kt">Data</span>

<span class="k">let</span> <span class="nv">session</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span>
<span class="k">let</span> <span class="nv">dataTask</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span> <span class="k">as</span> <span class="kt">URLRequest</span><span class="p">,</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="k">in</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">httpResponse</span> <span class="o">=</span> <span class="n">response</span> <span class="k">as?</span> <span class="kt">HTTPURLResponse</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="n">dataTask</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"refreshToken"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImM5MTY5ZjM5MTEyMDYyOTc2YjE1ZmU4YjI5ZTk0ZTFmYTFhMmI5YTgyMDUxYjk4YWNkZDVmZmNhZDk5NDYzMDIzNDJiNmU4N2Q4MTMzYzJmIn0.eyJhdWQiOiIyIiwianRpIjoiYzkxNjlmMzkxMTIwNjI5NzZiMTVmZThiMjllOTRlMWZhMWEyYjlhODIwNTFiOThhY2RkNWZmY2FkOTk0NjMwMjM0MmI2ZTg3ZDgxMzNjMmYiLCJpYXQiOjE1NTkyMzA1NTgsIm5iZiI6MTU1OTIzMDU1OCwiZXhwIjoxNTkwODUyOTU4LCJzdWIiOiIzODYiLCJzY29wZXMiOltdfQ.3Bw5AWWn3vNMTvKqxSlCnFWLSjBBAJA76DKY2oVMP1DhFVPBLfiw3RKBY2sFxMWLqVFmOn_x_L43JtEZk4TN3hCIqHvXCecA6XKnN_mX-d5eroIw10VsQlFWuhukZ-IsFtmd-k1--3eYRUDkQw2kOYZqwvBlU_sLdX46HVpQJrLYZNe76lBI1ZQesb3n1pu31WE8egwPkH72BtplT_abjSZlfsejW1XjhYMFQ2FRvzufp0XANa_UlauA-IqwnNDhFz031ukWrtIrqyfC8l3gmi8h2i5Gbce2Q-BtcxGYxNo8VzDJh10zRbwlZ5P5q8jkgfGTe2C7nsVUInU7ofWwN_-WetKCiF6VO6PNVc7KlZJIG7L-KU9FTJp-chwjUOthCn1qSFzldO64X4mdLGjdLiYJnJL--o4FL-xMk2SLb3X38GzlTwN9-PoYVkla5gO3iDaM-ddvQNW_VH3yrc-8WQkMC6sbGfKcF5ZY2T6i6DFgYBWiWtTQCUpBJ3XIR5Pn8yW5xGMr32OINnQbz72E_gwpAX3-V5NuFErBCbOTRHFIzmWuaJah7XZy3bEg6b2gkV_iM87r316UzZ7jG6Z0xBfRxpmhL4HMPySlSSjyAmgI-JC_snrxCpoh90qY7DKuLkO7DhBUgWS-YcLIVRuTXAdoj-8yucbl9oD8GLHuudQ"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{request_token}"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">31622400</span><span class="p">,</span><span class="w">
      </span><span class="s2">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='forgot-password'>Forgot Password</h2>
<p>Allows to initiate a forgot password request.</p>

<blockquote>
<p>GraphQL Query:</p>
</blockquote>
<pre class="highlight plaintext"><code>mutation {
  forgotPassword(data: {email: "john@doe.com"}) {
    status
    message
  }
}
</code></pre>
<p><strong>Input Parameters:</strong></p>

<table><thead>
<tr>
<th>Fields</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td><strong>email</strong></td>
<td>yes</td>
</tr>
</tbody></table>

<aside class="notice">
This <strong>does not</strong> require an <a href="#authentication">authentication</a>.
</aside>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url http://localhost:8000/graphql <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"query":"mutation {\n  forgotPassword(data: {email: \"john@doe.com\"}) {\n    status\n    message\n  }\n}\n"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"http://localhost:8000/graphql"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"query\":\"mutation {\\n  forgotPassword(data: {email: \\\"john@doe.com\\\"}) {\\n    status\\n    message\\n  }\\n}\\n\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Client</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Client\Request</span><span class="p">;</span>

<span class="nv">$body</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Message\Body</span><span class="p">;</span>
<span class="nv">$body</span><span class="o">-&gt;</span><span class="na">append</span><span class="p">(</span><span class="s1">'{"query":"mutation {\\n  forgotPassword(data: {email: \\"john@doe.com\\"}) {\\n    status\\n    message\\n  }\\n}\\n"}'</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setRequestUrl</span><span class="p">(</span><span class="s1">'http://localhost:8000/graphql'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setRequestMethod</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="nv">$body</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'content-type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span>
<span class="p">));</span>

<span class="nv">$client</span><span class="o">-&gt;</span><span class="na">enqueue</span><span class="p">(</span><span class="nv">$request</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">getResponse</span><span class="p">();</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"http://localhost:8000/graphql"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"query\":\"mutation {\\n  forgotPassword(data: {email: \\\"john@doe.com\\\"}) {\\n    status\\n    message\\n  }\\n}\\n\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="k">let</span> <span class="nv">headers</span> <span class="o">=</span> <span class="p">[</span><span class="s">"content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">]</span>

<span class="k">let</span> <span class="nv">postData</span> <span class="o">=</span> <span class="kt">NSData</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="s">"{"</span><span class="n">query</span><span class="s">":"</span><span class="n">mutation</span> <span class="p">{</span><span class="err">\</span><span class="n">n</span>  <span class="nf">forgotPassword</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="p">{</span><span class="nv">email</span><span class="p">:</span> <span class="err">\</span><span class="s">"john@doe.com</span><span class="se">\"</span><span class="s">}) {</span><span class="se">\n</span><span class="s">    status</span><span class="se">\n</span><span class="s">    message</span><span class="se">\n</span><span class="s">  }</span><span class="se">\n</span><span class="s">}</span><span class="se">\n</span><span class="s">"</span><span class="p">}</span><span class="s">".data(using: String.Encoding.utf8)!)

let request = NSMutableURLRequest(url: NSURL(string: "</span><span class="nv">http</span><span class="p">:</span><span class="c1">//localhost:8000/graphql")! as URL,</span>
                                        <span class="nv">cachePolicy</span><span class="p">:</span> <span class="o">.</span><span class="n">useProtocolCachePolicy</span><span class="p">,</span>
                                    <span class="nv">timeoutInterval</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpMethod</span> <span class="o">=</span> <span class="s">"POST"</span>
<span class="n">request</span><span class="o">.</span><span class="n">allHTTPHeaderFields</span> <span class="o">=</span> <span class="n">headers</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpBody</span> <span class="o">=</span> <span class="n">postData</span> <span class="k">as</span> <span class="kt">Data</span>

<span class="k">let</span> <span class="nv">session</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span>
<span class="k">let</span> <span class="nv">dataTask</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span> <span class="k">as</span> <span class="kt">URLRequest</span><span class="p">,</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="k">in</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">httpResponse</span> <span class="o">=</span> <span class="n">response</span> <span class="k">as?</span> <span class="kt">HTTPURLResponse</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="n">dataTask</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"forgotPassword"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EMAIL_SENT"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We have e-mailed your password reset link!"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='update-forgotten-password'>Update Forgotten Password</h2>
<p>Allows to change the password after a forgot password request.</p>

<blockquote>
<p>GraphQL Query:</p>
</blockquote>
<pre class="highlight plaintext"><code>mutation {
  updateForgottenPassword(data: {email: "john@doe.com", token: "$2y$10$xx", password: "newsecret", password_confirmation: "newsecret"}) {
    status
    message
  }
}
</code></pre>
<p><strong>Input Parameters:</strong></p>

<table><thead>
<tr>
<th>Fields</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td><strong>email</strong></td>
<td>yes</td>
</tr>
<tr>
<td><strong>token</strong></td>
<td>yes</td>
</tr>
<tr>
<td><strong>password</strong></td>
<td>yes</td>
</tr>
<tr>
<td><strong>password_confirmation</strong></td>
<td>yes</td>
</tr>
</tbody></table>

<aside class="notice">
This <strong>does not</strong> require an <a href="#authentication">authentication</a>.
</aside>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url http://localhost:8000/graphql <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"query":"mutation {\n  updateForgottenPassword(data: {email: \"john@doe.com\", token: \"$2y$10$xx\", password: \"newsecret\", password_confirmation: \"newsecret\"}) {\n    status\n    message\n  }\n}\n"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"http://localhost:8000/graphql"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"query\":\"mutation {\\n  updateForgottenPassword(data: {email: \\\"john@doe.com\\\", token: \\\"$2y$10$xx\\\", password: \\\"newsecret\\\", password_confirmation: \\\"newsecret\\\"}) {\\n    status\\n    message\\n  }\\n}\\n\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Client</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Client\Request</span><span class="p">;</span>

<span class="nv">$body</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Message\Body</span><span class="p">;</span>
<span class="nv">$body</span><span class="o">-&gt;</span><span class="na">append</span><span class="p">(</span><span class="s1">'{"query":"mutation {\\n  updateForgottenPassword(data: {email: \\"john@doe.com\\", token: \\"$2y$10$xx\\", password: \\"newsecret\\", password_confirmation: \\"newsecret\\"}) {\\n    status\\n    message\\n  }\\n}\\n"}'</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setRequestUrl</span><span class="p">(</span><span class="s1">'http://localhost:8000/graphql'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setRequestMethod</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="nv">$body</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'content-type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span>
<span class="p">));</span>

<span class="nv">$client</span><span class="o">-&gt;</span><span class="na">enqueue</span><span class="p">(</span><span class="nv">$request</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">getResponse</span><span class="p">();</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"http://localhost:8000/graphql"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"query\":\"mutation {\\n  updateForgottenPassword(data: {email: \\\"john@doe.com\\\", token: \\\"$2y$10$xx\\\", password: \\\"newsecret\\\", password_confirmation: \\\"newsecret\\\"}) {\\n    status\\n    message\\n  }\\n}\\n\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="k">let</span> <span class="nv">headers</span> <span class="o">=</span> <span class="p">[</span><span class="s">"content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">]</span>

<span class="k">let</span> <span class="nv">postData</span> <span class="o">=</span> <span class="kt">NSData</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="s">"{"</span><span class="n">query</span><span class="s">":"</span><span class="n">mutation</span> <span class="p">{</span><span class="err">\</span><span class="n">n</span>  <span class="nf">updateForgottenPassword</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="p">{</span><span class="nv">email</span><span class="p">:</span> <span class="err">\</span><span class="s">"john@doe.com</span><span class="se">\"</span><span class="s">, token: </span><span class="se">\"</span><span class="s">$2y$10$xx</span><span class="se">\"</span><span class="s">, password: </span><span class="se">\"</span><span class="s">newsecret</span><span class="se">\"</span><span class="s">, password_confirmation: </span><span class="se">\"</span><span class="s">newsecret</span><span class="se">\"</span><span class="s">}) {</span><span class="se">\n</span><span class="s">    status</span><span class="se">\n</span><span class="s">    message</span><span class="se">\n</span><span class="s">  }</span><span class="se">\n</span><span class="s">}</span><span class="se">\n</span><span class="s">"</span><span class="p">}</span><span class="s">".data(using: String.Encoding.utf8)!)

let request = NSMutableURLRequest(url: NSURL(string: "</span><span class="nv">http</span><span class="p">:</span><span class="c1">//localhost:8000/graphql")! as URL,</span>
                                        <span class="nv">cachePolicy</span><span class="p">:</span> <span class="o">.</span><span class="n">useProtocolCachePolicy</span><span class="p">,</span>
                                    <span class="nv">timeoutInterval</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpMethod</span> <span class="o">=</span> <span class="s">"POST"</span>
<span class="n">request</span><span class="o">.</span><span class="n">allHTTPHeaderFields</span> <span class="o">=</span> <span class="n">headers</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpBody</span> <span class="o">=</span> <span class="n">postData</span> <span class="k">as</span> <span class="kt">Data</span>

<span class="k">let</span> <span class="nv">session</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span>
<span class="k">let</span> <span class="nv">dataTask</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span> <span class="k">as</span> <span class="kt">URLRequest</span><span class="p">,</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="k">in</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">httpResponse</span> <span class="o">=</span> <span class="n">response</span> <span class="k">as?</span> <span class="kt">HTTPURLResponse</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="n">dataTask</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"updateForgottenPassword"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PASSWORD_UPDATED"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your password has been reset!"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h1 id='user'>User</h1>
<p>Here are the endpoints you can use in regards to managing users.</p>
<h2 id='user-type'>User Type</h2>
<p>The GraphQL type for user. You can use this as a reference for your returned fields in your queries or mutations.</p>

<blockquote>
<p>GraphQL Type:</p>
</blockquote>
<pre class="highlight plaintext"><code>type User {
    id: ID!
    uuid: String!
    name: String!
    email: String!
    role: String
    company_id: String
    company: Company @belongsTo
    parent_id: String
    admin_token: String
    profile_picture: String
    first_login: DateTime
    last_login: DateTime
    tfa_secret: String
    created_at: DateTime
    updated_at: DateTime
}
</code></pre><h2 id='create-user'>Create User</h2>
<p>Allows to create new user.</p>

<blockquote>
<p>GraphQL Query:</p>
</blockquote>
<pre class="highlight plaintext"><code>mutation {
  createUser(input: {uuid: "912a6cd0-3f84-4703-972f-76380105a415", name: "John Doe", email: "john@doe.com", password: "secret", role: "subscriber", company_id: "912a6cd0-3f84-4703-972f-76380105a413"}) {
    id
    uuid
    name
    email
    role
    company_id
    parent_id
    admin_token
    profile_picture
    first_login
    last_login
    tfa_secret
    created_at
    updated_at
  }
}
</code></pre>
<p><strong>Input Parameters:</strong></p>

<table><thead>
<tr>
<th>Fields</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td><strong>uuid</strong></td>
<td>yes</td>
</tr>
<tr>
<td><strong>email</strong></td>
<td>yes</td>
</tr>
<tr>
<td><strong>password</strong></td>
<td>yes</td>
</tr>
<tr>
<td><strong>role</strong></td>
<td>no, defaults to <em>subscriber</em></td>
</tr>
<tr>
<td><strong>company_id</strong></td>
<td>no</td>
</tr>
<tr>
<td><strong>parent_id</strong></td>
<td>no</td>
</tr>
<tr>
<td><strong>admin_token</strong></td>
<td>no</td>
</tr>
<tr>
<td><strong>admin_token</strong></td>
<td>no</td>
</tr>
<tr>
<td><strong>profile_picture</strong></td>
<td>no</td>
</tr>
<tr>
<td><strong>first_login</strong></td>
<td>no</td>
</tr>
<tr>
<td><strong>last_login</strong></td>
<td>no</td>
</tr>
<tr>
<td><strong>tfa_secret</strong></td>
<td>no</td>
</tr>
</tbody></table>

<aside class="notice">
This requires an <a href="#authentication">authentication</a>.
</aside>

<aside class="notice">
This returns a <a href="#user-type">User Type</a>.
</aside>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url http://localhost:8000/graphql <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"query":"mutation {\n  createUser(input: {uuid: \"912a6cd0-3f84-4703-972f-76380105a415\", name: \"John Doe\", email: \"john@doe.com\", password: \"secret\", role: \"subscriber\", company_id: \"912a6cd0-3f84-4703-972f-76380105a413\"}) {\n    id\n    uuid\n    name\n    email\n    role\n    company_id\n    parent_id\n    admin_token\n    profile_picture\n    first_login\n    last_login\n    tfa_secret\n    created_at\n    updated_at\n  }\n}\n"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"http://localhost:8000/graphql"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"query\":\"mutation {\\n  createUser(input: {uuid: \\\"912a6cd0-3f84-4703-972f-76380105a415\\\", name: \\\"John Doe\\\", email: \\\"john@doe.com\\\", password: \\\"secret\\\", role: \\\"subscriber\\\", company_id: \\\"912a6cd0-3f84-4703-972f-76380105a413\\\"}) {\\n    id\\n    uuid\\n    name\\n    email\\n    role\\n    company_id\\n    parent_id\\n    admin_token\\n    profile_picture\\n    first_login\\n    last_login\\n    tfa_secret\\n    created_at\\n    updated_at\\n  }\\n}\\n\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Client</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Client\Request</span><span class="p">;</span>

<span class="nv">$body</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Message\Body</span><span class="p">;</span>
<span class="nv">$body</span><span class="o">-&gt;</span><span class="na">append</span><span class="p">(</span><span class="s1">'{"query":"mutation {\\n  createUser(input: {uuid: \\"912a6cd0-3f84-4703-972f-76380105a415\\", name: \\"John Doe\\", email: \\"john@doe.com\\", password: \\"secret\\", role: \\"subscriber\\", company_id: \\"912a6cd0-3f84-4703-972f-76380105a413\\"}) {\\n    id\\n    uuid\\n    name\\n    email\\n    role\\n    company_id\\n    parent_id\\n    admin_token\\n    profile_picture\\n    first_login\\n    last_login\\n    tfa_secret\\n    created_at\\n    updated_at\\n  }\\n}\\n"}'</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setRequestUrl</span><span class="p">(</span><span class="s1">'http://localhost:8000/graphql'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setRequestMethod</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="nv">$body</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'content-type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span>
<span class="p">));</span>

<span class="nv">$client</span><span class="o">-&gt;</span><span class="na">enqueue</span><span class="p">(</span><span class="nv">$request</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">getResponse</span><span class="p">();</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"http://localhost:8000/graphql"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"query\":\"mutation {\\n  createUser(input: {uuid: \\\"912a6cd0-3f84-4703-972f-76380105a415\\\", name: \\\"John Doe\\\", email: \\\"john@doe.com\\\", password: \\\"secret\\\", role: \\\"subscriber\\\", company_id: \\\"912a6cd0-3f84-4703-972f-76380105a413\\\"}) {\\n    id\\n    uuid\\n    name\\n    email\\n    role\\n    company_id\\n    parent_id\\n    admin_token\\n    profile_picture\\n    first_login\\n    last_login\\n    tfa_secret\\n    created_at\\n    updated_at\\n  }\\n}\\n\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="k">let</span> <span class="nv">headers</span> <span class="o">=</span> <span class="p">[</span><span class="s">"content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">]</span>

<span class="k">let</span> <span class="nv">postData</span> <span class="o">=</span> <span class="kt">NSData</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="s">"{"</span><span class="n">query</span><span class="s">":"</span><span class="n">mutation</span> <span class="p">{</span><span class="err">\</span><span class="n">n</span>  <span class="nf">createUser</span><span class="p">(</span><span class="nv">input</span><span class="p">:</span> <span class="p">{</span><span class="nv">uuid</span><span class="p">:</span> <span class="err">\</span><span class="s">"912a6cd0-3f84-4703-972f-76380105a415</span><span class="se">\"</span><span class="s">, name: </span><span class="se">\"</span><span class="s">John Doe</span><span class="se">\"</span><span class="s">, email: </span><span class="se">\"</span><span class="s">john@doe.com</span><span class="se">\"</span><span class="s">, password: </span><span class="se">\"</span><span class="s">secret</span><span class="se">\"</span><span class="s">, role: </span><span class="se">\"</span><span class="s">subscriber</span><span class="se">\"</span><span class="s">, company_id: </span><span class="se">\"</span><span class="s">912a6cd0-3f84-4703-972f-76380105a413</span><span class="se">\"</span><span class="s">}) {</span><span class="se">\n</span><span class="s">    id</span><span class="se">\n</span><span class="s">    uuid</span><span class="se">\n</span><span class="s">    name</span><span class="se">\n</span><span class="s">    email</span><span class="se">\n</span><span class="s">    role</span><span class="se">\n</span><span class="s">    company_id</span><span class="se">\n</span><span class="s">    parent_id</span><span class="se">\n</span><span class="s">    admin_token</span><span class="se">\n</span><span class="s">    profile_picture</span><span class="se">\n</span><span class="s">    first_login</span><span class="se">\n</span><span class="s">    last_login</span><span class="se">\n</span><span class="s">    tfa_secret</span><span class="se">\n</span><span class="s">    created_at</span><span class="se">\n</span><span class="s">    updated_at</span><span class="se">\n</span><span class="s">  }</span><span class="se">\n</span><span class="s">}</span><span class="se">\n</span><span class="s">"</span><span class="p">}</span><span class="s">".data(using: String.Encoding.utf8)!)

let request = NSMutableURLRequest(url: NSURL(string: "</span><span class="nv">http</span><span class="p">:</span><span class="c1">//localhost:8000/graphql")! as URL,</span>
                                        <span class="nv">cachePolicy</span><span class="p">:</span> <span class="o">.</span><span class="n">useProtocolCachePolicy</span><span class="p">,</span>
                                    <span class="nv">timeoutInterval</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpMethod</span> <span class="o">=</span> <span class="s">"POST"</span>
<span class="n">request</span><span class="o">.</span><span class="n">allHTTPHeaderFields</span> <span class="o">=</span> <span class="n">headers</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpBody</span> <span class="o">=</span> <span class="n">postData</span> <span class="k">as</span> <span class="kt">Data</span>

<span class="k">let</span> <span class="nv">session</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span>
<span class="k">let</span> <span class="nv">dataTask</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span> <span class="k">as</span> <span class="kt">URLRequest</span><span class="p">,</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="k">in</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">httpResponse</span> <span class="o">=</span> <span class="n">response</span> <span class="k">as?</span> <span class="kt">HTTPURLResponse</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="n">dataTask</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"createUser"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"436"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"912a6cd0-3f84-4703-972f-76380105a415"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscriber"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"912a6cd0-3f84-4703-972f-76380105a413"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"admin_token"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"profile_picture"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"first_login"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_login"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tfa_secret"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-31 17:06:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-31 17:06:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='view-user'>View User</h2>
<p>Allows to view a user.</p>

<blockquote>
<p>GraphQL Query:</p>
</blockquote>
<pre class="highlight plaintext"><code>query {
  viewUser(id: 435) {
    id
    uuid
    name
    email
    role
    company_id
    parent_id
    admin_token
    profile_picture
    first_login
    last_login
    tfa_secret
    created_at
    updated_at
  }
}
</code></pre>
<table><thead>
<tr>
<th>Fields</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td><strong>id</strong></td>
<td>yes</td>
</tr>
</tbody></table>

<aside class="notice">
This requires an <a href="#authentication">authentication</a>.
</aside>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url http://localhost:8000/graphql <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"query":"query {\n  viewUser(id: 435) {\n    id\n    uuid\n    name\n    email\n    role\n    company_id\n    parent_id\n    admin_token\n    profile_picture\n    first_login\n    last_login\n    tfa_secret\n    created_at\n    updated_at\n  }\n}\n"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"http://localhost:8000/graphql"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"query\":\"query {\\n  viewUser(id: 435) {\\n    id\\n    uuid\\n    name\\n    email\\n    role\\n    company_id\\n    parent_id\\n    admin_token\\n    profile_picture\\n    first_login\\n    last_login\\n    tfa_secret\\n    created_at\\n    updated_at\\n  }\\n}\\n\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Client</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Client\Request</span><span class="p">;</span>

<span class="nv">$body</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Message\Body</span><span class="p">;</span>
<span class="nv">$body</span><span class="o">-&gt;</span><span class="na">append</span><span class="p">(</span><span class="s1">'{"query":"query {\\n  viewUser(id: 435) {\\n    id\\n    uuid\\n    name\\n    email\\n    role\\n    company_id\\n    parent_id\\n    admin_token\\n    profile_picture\\n    first_login\\n    last_login\\n    tfa_secret\\n    created_at\\n    updated_at\\n  }\\n}\\n"}'</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setRequestUrl</span><span class="p">(</span><span class="s1">'http://localhost:8000/graphql'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setRequestMethod</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="nv">$body</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'content-type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span>
<span class="p">));</span>

<span class="nv">$client</span><span class="o">-&gt;</span><span class="na">enqueue</span><span class="p">(</span><span class="nv">$request</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">getResponse</span><span class="p">();</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"http://localhost:8000/graphql"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"query\":\"query {\\n  viewUser(id: 435) {\\n    id\\n    uuid\\n    name\\n    email\\n    role\\n    company_id\\n    parent_id\\n    admin_token\\n    profile_picture\\n    first_login\\n    last_login\\n    tfa_secret\\n    created_at\\n    updated_at\\n  }\\n}\\n\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="k">let</span> <span class="nv">headers</span> <span class="o">=</span> <span class="p">[</span><span class="s">"content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">]</span>

<span class="k">let</span> <span class="nv">postData</span> <span class="o">=</span> <span class="kt">NSData</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="s">"{"</span><span class="n">query</span><span class="s">":"</span><span class="n">query</span> <span class="p">{</span><span class="err">\</span><span class="n">n</span>  <span class="nf">viewUser</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="mi">435</span><span class="p">)</span> <span class="p">{</span><span class="err">\</span><span class="n">n</span>    <span class="n">id</span><span class="err">\</span><span class="n">n</span>    <span class="n">uuid</span><span class="err">\</span><span class="n">n</span>    <span class="n">name</span><span class="err">\</span><span class="n">n</span>    <span class="n">email</span><span class="err">\</span><span class="n">n</span>    <span class="n">role</span><span class="err">\</span><span class="n">n</span>    <span class="n">company_id</span><span class="err">\</span><span class="n">n</span>    <span class="n">parent_id</span><span class="err">\</span><span class="n">n</span>    <span class="n">admin_token</span><span class="err">\</span><span class="n">n</span>    <span class="n">profile_picture</span><span class="err">\</span><span class="n">n</span>    <span class="n">first_login</span><span class="err">\</span><span class="n">n</span>    <span class="n">last_login</span><span class="err">\</span><span class="n">n</span>    <span class="n">tfa_secret</span><span class="err">\</span><span class="n">n</span>    <span class="n">created_at</span><span class="err">\</span><span class="n">n</span>    <span class="n">updated_at</span><span class="err">\</span><span class="n">n</span>  <span class="p">}</span><span class="err">\</span><span class="n">n</span><span class="p">}</span><span class="err">\</span><span class="n">n</span><span class="s">"}"</span><span class="o">.</span><span class="nf">data</span><span class="p">(</span><span class="nv">using</span><span class="p">:</span> <span class="kt">String</span><span class="o">.</span><span class="kt">Encoding</span><span class="o">.</span><span class="n">utf8</span><span class="p">)</span><span class="o">!</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">NSMutableURLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="kt">NSURL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"http://localhost:8000/graphql"</span><span class="p">)</span><span class="o">!</span> <span class="k">as</span> <span class="kt">URL</span><span class="p">,</span>
                                        <span class="nv">cachePolicy</span><span class="p">:</span> <span class="o">.</span><span class="n">useProtocolCachePolicy</span><span class="p">,</span>
                                    <span class="nv">timeoutInterval</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpMethod</span> <span class="o">=</span> <span class="s">"POST"</span>
<span class="n">request</span><span class="o">.</span><span class="n">allHTTPHeaderFields</span> <span class="o">=</span> <span class="n">headers</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpBody</span> <span class="o">=</span> <span class="n">postData</span> <span class="k">as</span> <span class="kt">Data</span>

<span class="k">let</span> <span class="nv">session</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span>
<span class="k">let</span> <span class="nv">dataTask</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span> <span class="k">as</span> <span class="kt">URLRequest</span><span class="p">,</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="k">in</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">httpResponse</span> <span class="o">=</span> <span class="n">response</span> <span class="k">as?</span> <span class="kt">HTTPURLResponse</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="n">dataTask</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"viewUser"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"435"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"912a6cd0-3f84-4703-972f-76380105a414"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscriber"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"912a6cd0-3f84-4703-972f-76380105a413"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"admin_token"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"profile_picture"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"first_login"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_login"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tfa_secret"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-31 16:57:36"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-31 16:57:36"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='list-users'>List Users</h2>
<p>Allows to get a list of users.</p>

<blockquote>
<p>GraphQL Type:</p>
</blockquote>
<pre class="highlight plaintext"><code>type PaginatorInfo {
    currentPage: Int!
    lastPage: Int!
}

type Paginator {
    data: User!
    paginatorInfo: PaginatorInfo!
}
</code></pre>
<blockquote>
<p>GraphQL Query:</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  listUsers(count: 100, page: 1) {
    data {
      id
      uuid
      name
      email
      role
      company_id
      parent_id
      admin_token
      profile_picture
      first_login
      last_login
      tfa_secret
      created_at
      updated_at
    }
    paginatorInfo {
      currentPage
      lastPage
    }
  }
}
</code></pre>
<p><strong>Input Parameters:</strong></p>

<table><thead>
<tr>
<th>Fields</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td><strong>count</strong></td>
<td>yes</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td>no</td>
</tr>
</tbody></table>

<aside class="notice">
This requires an <a href="#authentication">authentication</a>.
</aside>

<aside class="success">
This returns a paginated <a href="#user-type">User Type</a>.
</aside>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url http://localhost:8000/graphql <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"query":"{\n  listUsers(count: 100, page: 1) {\n    data {\n      id\n      uuid\n      name\n      email\n      role\n      company_id\n      parent_id\n      admin_token\n      profile_picture\n      first_login\n      last_login\n      tfa_secret\n      created_at\n      updated_at\n    }\n    paginatorInfo {\n      currentPage\n      lastPage\n    }\n  }\n}\n"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"http://localhost:8000/graphql"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"query\":\"{\\n  listUsers(count: 100, page: 1) {\\n    data {\\n      id\\n      uuid\\n      name\\n      email\\n      role\\n      company_id\\n      parent_id\\n      admin_token\\n      profile_picture\\n      first_login\\n      last_login\\n      tfa_secret\\n      created_at\\n      updated_at\\n    }\\n    paginatorInfo {\\n      currentPage\\n      lastPage\\n    }\\n  }\\n}\\n\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Client</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Client\Request</span><span class="p">;</span>

<span class="nv">$body</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Message\Body</span><span class="p">;</span>
<span class="nv">$body</span><span class="o">-&gt;</span><span class="na">append</span><span class="p">(</span><span class="s1">'{"query":"{\\n  listUsers(count: 100, page: 1) {\\n    data {\\n      id\\n      uuid\\n      name\\n      email\\n      role\\n      company_id\\n      parent_id\\n      admin_token\\n      profile_picture\\n      first_login\\n      last_login\\n      tfa_secret\\n      created_at\\n      updated_at\\n    }\\n    paginatorInfo {\\n      currentPage\\n      lastPage\\n    }\\n  }\\n}\\n"}'</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setRequestUrl</span><span class="p">(</span><span class="s1">'http://localhost:8000/graphql'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setRequestMethod</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="nv">$body</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'content-type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span>
<span class="p">));</span>

<span class="nv">$client</span><span class="o">-&gt;</span><span class="na">enqueue</span><span class="p">(</span><span class="nv">$request</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">getResponse</span><span class="p">();</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"http://localhost:8000/graphql"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"query\":\"{\\n  listUsers(count: 100, page: 1) {\\n    data {\\n      id\\n      uuid\\n      name\\n      email\\n      role\\n      company_id\\n      parent_id\\n      admin_token\\n      profile_picture\\n      first_login\\n      last_login\\n      tfa_secret\\n      created_at\\n      updated_at\\n    }\\n    paginatorInfo {\\n      currentPage\\n      lastPage\\n    }\\n  }\\n}\\n\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="k">let</span> <span class="nv">headers</span> <span class="o">=</span> <span class="p">[</span><span class="s">"content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">]</span>

<span class="k">let</span> <span class="nv">postData</span> <span class="o">=</span> <span class="kt">NSData</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="s">"{"</span><span class="n">query</span><span class="s">":"</span><span class="p">{</span><span class="err">\</span><span class="n">n</span>  <span class="nf">listUsers</span><span class="p">(</span><span class="nv">count</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nv">page</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span><span class="err">\</span><span class="n">n</span>    <span class="n">data</span> <span class="p">{</span><span class="err">\</span><span class="n">n</span>      <span class="n">id</span><span class="err">\</span><span class="n">n</span>      <span class="n">uuid</span><span class="err">\</span><span class="n">n</span>      <span class="n">name</span><span class="err">\</span><span class="n">n</span>      <span class="n">email</span><span class="err">\</span><span class="n">n</span>      <span class="n">role</span><span class="err">\</span><span class="n">n</span>      <span class="n">company_id</span><span class="err">\</span><span class="n">n</span>      <span class="n">parent_id</span><span class="err">\</span><span class="n">n</span>      <span class="n">admin_token</span><span class="err">\</span><span class="n">n</span>      <span class="n">profile_picture</span><span class="err">\</span><span class="n">n</span>      <span class="n">first_login</span><span class="err">\</span><span class="n">n</span>      <span class="n">last_login</span><span class="err">\</span><span class="n">n</span>      <span class="n">tfa_secret</span><span class="err">\</span><span class="n">n</span>      <span class="n">created_at</span><span class="err">\</span><span class="n">n</span>      <span class="n">updated_at</span><span class="err">\</span><span class="n">n</span>    <span class="p">}</span><span class="err">\</span><span class="n">n</span>    <span class="n">paginatorInfo</span> <span class="p">{</span><span class="err">\</span><span class="n">n</span>      <span class="n">currentPage</span><span class="err">\</span><span class="n">n</span>      <span class="n">lastPage</span><span class="err">\</span><span class="n">n</span>    <span class="p">}</span><span class="err">\</span><span class="n">n</span>  <span class="p">}</span><span class="err">\</span><span class="n">n</span><span class="p">}</span><span class="err">\</span><span class="n">n</span><span class="s">"}"</span><span class="o">.</span><span class="nf">data</span><span class="p">(</span><span class="nv">using</span><span class="p">:</span> <span class="kt">String</span><span class="o">.</span><span class="kt">Encoding</span><span class="o">.</span><span class="n">utf8</span><span class="p">)</span><span class="o">!</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">NSMutableURLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="kt">NSURL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"http://localhost:8000/graphql"</span><span class="p">)</span><span class="o">!</span> <span class="k">as</span> <span class="kt">URL</span><span class="p">,</span>
                                        <span class="nv">cachePolicy</span><span class="p">:</span> <span class="o">.</span><span class="n">useProtocolCachePolicy</span><span class="p">,</span>
                                    <span class="nv">timeoutInterval</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpMethod</span> <span class="o">=</span> <span class="s">"POST"</span>
<span class="n">request</span><span class="o">.</span><span class="n">allHTTPHeaderFields</span> <span class="o">=</span> <span class="n">headers</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpBody</span> <span class="o">=</span> <span class="n">postData</span> <span class="k">as</span> <span class="kt">Data</span>

<span class="k">let</span> <span class="nv">session</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span>
<span class="k">let</span> <span class="nv">dataTask</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span> <span class="k">as</span> <span class="kt">URLRequest</span><span class="p">,</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="k">in</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">httpResponse</span> <span class="o">=</span> <span class="n">response</span> <span class="k">as?</span> <span class="kt">HTTPURLResponse</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="n">dataTask</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"listUsers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"434"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"912a6cd0-3f84-4703-972f-76380105a413"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscriber"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"admin_token"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"profile_picture"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"first_login"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"last_login"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"tfa_secret"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-31 16:54:48"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-31 16:54:48"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"435"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"912a6cd0-3f84-4703-972f-76380105a414"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Will Smith"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscriber"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"912a6cd0-3f84-4703-972f-76380105a413"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"admin_token"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"profile_picture"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"first_login"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"last_login"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"tfa_secret"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-31 16:57:36"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-31 17:27:25"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"436"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"912a6cd0-3f84-4703-972f-76380105a415"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscriber"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"912a6cd0-3f84-4703-972f-76380105a413"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"admin_token"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"profile_picture"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"first_login"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"last_login"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"tfa_secret"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-31 17:06:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-31 17:06:00"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"paginatorInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"currentPage"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lastPage"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='update-user'>Update User</h2>
<p>Allows to update an existing user.</p>

<blockquote>
<p>GraphQL Query:</p>
</blockquote>
<pre class="highlight plaintext"><code>mutation {
  updateUser(id: 435, input: {name: "Will Smith", password: "secret"}) {
    id
    uuid
    name
    email
    role
    company_id
    parent_id
    admin_token
    profile_picture
    first_login
    last_login
    tfa_secret
    created_at
    updated_at
  }
}
</code></pre>
<p><strong>Input Parameters:</strong></p>

<table><thead>
<tr>
<th>Fields</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td><strong>id</strong></td>
<td>yes</td>
</tr>
<tr>
<td><strong>uuid</strong></td>
<td>no</td>
</tr>
<tr>
<td><strong>email</strong></td>
<td>no</td>
</tr>
<tr>
<td><strong>password</strong></td>
<td>no</td>
</tr>
<tr>
<td><strong>role</strong></td>
<td>no</td>
</tr>
<tr>
<td><strong>company_id</strong></td>
<td>no</td>
</tr>
<tr>
<td><strong>parent_id</strong></td>
<td>no</td>
</tr>
<tr>
<td><strong>admin_token</strong></td>
<td>no</td>
</tr>
<tr>
<td><strong>admin_token</strong></td>
<td>no</td>
</tr>
<tr>
<td><strong>profile_picture</strong></td>
<td>no</td>
</tr>
<tr>
<td><strong>first_login</strong></td>
<td>no</td>
</tr>
<tr>
<td><strong>last_login</strong></td>
<td>no</td>
</tr>
<tr>
<td><strong>tfa_secret</strong></td>
<td>no</td>
</tr>
</tbody></table>

<aside class="notice">
This requires an <a href="#authentication">authentication</a>.
</aside>

<aside class="success">
This returns a <a href="#user-type">User Type</a>.
</aside>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url http://localhost:8000/graphql <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"query":"mutation {\n  updateUser(id: 435, input: {name: \"Will Smith\", password: \"secret\"}) {\n    id\n    uuid\n    name\n    email\n    role\n    company_id\n    parent_id\n    admin_token\n    profile_picture\n    first_login\n    last_login\n    tfa_secret\n    created_at\n    updated_at\n  }\n}\n"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"http://localhost:8000/graphql"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"query\":\"mutation {\\n  updateUser(id: 435, input: {name: \\\"Will Smith\\\", password: \\\"secret\\\"}) {\\n    id\\n    uuid\\n    name\\n    email\\n    role\\n    company_id\\n    parent_id\\n    admin_token\\n    profile_picture\\n    first_login\\n    last_login\\n    tfa_secret\\n    created_at\\n    updated_at\\n  }\\n}\\n\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_PORT</span> <span class="o">=&gt;</span> <span class="s2">"8000"</span><span class="p">,</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"http://localhost:8000/graphql"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="nx">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="s2">"{\"</span><span class="nx">query\</span><span class="s2">":</span><span class="se">\"</span><span class="s2">mutation {\\n  updateUser(id: 435, input: {name: </span><span class="se">\\\"</span><span class="s2">Will Smith</span><span class="se">\\\"</span><span class="s2">, password: </span><span class="se">\\\"</span><span class="s2">secret</span><span class="se">\\\"</span><span class="s2">}) {\\n    id</span><span class="se">\\</span><span class="s2">n    uuid</span><span class="se">\\</span><span class="s2">n    name</span><span class="se">\\</span><span class="s2">n    email</span><span class="se">\\</span><span class="s2">n    role</span><span class="se">\\</span><span class="s2">n    company_id</span><span class="se">\\</span><span class="s2">n    parent_id</span><span class="se">\\</span><span class="s2">n    admin_token</span><span class="se">\\</span><span class="s2">n    profile_picture</span><span class="se">\\</span><span class="s2">n    first_login</span><span class="se">\\</span><span class="s2">n    last_login</span><span class="se">\\</span><span class="s2">n    tfa_secret</span><span class="se">\\</span><span class="s2">n    created_at</span><span class="se">\\</span><span class="s2">n    updated_at</span><span class="se">\\</span><span class="s2">n  }</span><span class="se">\\</span><span class="s2">n}</span><span class="se">\\</span><span class="s2">n</span><span class="se">\"</span><span class="s2">}"</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"content-type: application/json"</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">"cURL Error #:"</span> <span class="o">.</span> <span class="nv">$err</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"http://localhost:8000/graphql"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"query\":\"mutation {\\n  updateUser(id: 435, input: {name: \\\"Will Smith\\\", password: \\\"secret\\\"}) {\\n    id\\n    uuid\\n    name\\n    email\\n    role\\n    company_id\\n    parent_id\\n    admin_token\\n    profile_picture\\n    first_login\\n    last_login\\n    tfa_secret\\n    created_at\\n    updated_at\\n  }\\n}\\n\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="k">let</span> <span class="nv">headers</span> <span class="o">=</span> <span class="p">[</span><span class="s">"content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">]</span>

<span class="k">let</span> <span class="nv">postData</span> <span class="o">=</span> <span class="kt">NSData</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="s">"{"</span><span class="n">query</span><span class="s">":"</span><span class="n">mutation</span> <span class="p">{</span><span class="err">\</span><span class="n">n</span>  <span class="nf">updateUser</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="mi">435</span><span class="p">,</span> <span class="nv">input</span><span class="p">:</span> <span class="p">{</span><span class="nv">name</span><span class="p">:</span> <span class="err">\</span><span class="s">"Will Smith</span><span class="se">\"</span><span class="s">, password: </span><span class="se">\"</span><span class="s">secret</span><span class="se">\"</span><span class="s">}) {</span><span class="se">\n</span><span class="s">    id</span><span class="se">\n</span><span class="s">    uuid</span><span class="se">\n</span><span class="s">    name</span><span class="se">\n</span><span class="s">    email</span><span class="se">\n</span><span class="s">    role</span><span class="se">\n</span><span class="s">    company_id</span><span class="se">\n</span><span class="s">    parent_id</span><span class="se">\n</span><span class="s">    admin_token</span><span class="se">\n</span><span class="s">    profile_picture</span><span class="se">\n</span><span class="s">    first_login</span><span class="se">\n</span><span class="s">    last_login</span><span class="se">\n</span><span class="s">    tfa_secret</span><span class="se">\n</span><span class="s">    created_at</span><span class="se">\n</span><span class="s">    updated_at</span><span class="se">\n</span><span class="s">  }</span><span class="se">\n</span><span class="s">}</span><span class="se">\n</span><span class="s">"</span><span class="p">}</span><span class="s">".data(using: String.Encoding.utf8)!)

let request = NSMutableURLRequest(url: NSURL(string: "</span><span class="nv">http</span><span class="p">:</span><span class="c1">//localhost:8000/graphql")! as URL,</span>
                                        <span class="nv">cachePolicy</span><span class="p">:</span> <span class="o">.</span><span class="n">useProtocolCachePolicy</span><span class="p">,</span>
                                    <span class="nv">timeoutInterval</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpMethod</span> <span class="o">=</span> <span class="s">"POST"</span>
<span class="n">request</span><span class="o">.</span><span class="n">allHTTPHeaderFields</span> <span class="o">=</span> <span class="n">headers</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpBody</span> <span class="o">=</span> <span class="n">postData</span> <span class="k">as</span> <span class="kt">Data</span>

<span class="k">let</span> <span class="nv">session</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span>
<span class="k">let</span> <span class="nv">dataTask</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span> <span class="k">as</span> <span class="kt">URLRequest</span><span class="p">,</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="k">in</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">httpResponse</span> <span class="o">=</span> <span class="n">response</span> <span class="k">as?</span> <span class="kt">HTTPURLResponse</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="n">dataTask</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"updateUser"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"435"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"912a6cd0-3f84-4703-972f-76380105a414"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Will Smith"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscriber"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"912a6cd0-3f84-4703-972f-76380105a413"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"admin_token"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"profile_picture"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"first_login"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_login"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tfa_secret"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-31 16:57:36"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-31 17:27:25"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='delete-user'>Delete User</h2>
<p>Allows to delete an existing user.</p>

<blockquote>
<p>GraphQL Query:</p>
</blockquote>
<pre class="highlight plaintext"><code>mutation {
  deleteUser(id: 386) {
    id
    uuid
    name
    email
    role
    company_id
    parent_id
    admin_token
    profile_picture
    first_login
    last_login
    tfa_secret
    created_at
    updated_at
  }
}

</code></pre>
<p><strong>Input Parameters:</strong></p>

<table><thead>
<tr>
<th>Fields</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td><strong>id</strong></td>
<td>yes</td>
</tr>
</tbody></table>

<aside class="notice">
This requires an <a href="#authentication">authentication</a>.
</aside>

<aside class="notice">
This returns a <a href="#user-type">User Type</a>.
</aside>

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url http://localhost:8000/graphql <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"query":"mutation {\n  deleteUser(id: 386) {\n    id\n    uuid\n    name\n    email\n    role\n    company_id\n    parent_id\n    admin_token\n    profile_picture\n    first_login\n    last_login\n    tfa_secret\n    created_at\n    updated_at\n  }\n}\n"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"http://localhost:8000/graphql"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"query\":\"mutation {\\n  deleteUser(id: 386) {\\n    id\\n    uuid\\n    name\\n    email\\n    role\\n    company_id\\n    parent_id\\n    admin_token\\n    profile_picture\\n    first_login\\n    last_login\\n    tfa_secret\\n    created_at\\n    updated_at\\n  }\\n}\\n\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Client</span><span class="p">;</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Client\Request</span><span class="p">;</span>

<span class="nv">$body</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">http\Message\Body</span><span class="p">;</span>
<span class="nv">$body</span><span class="o">-&gt;</span><span class="na">append</span><span class="p">(</span><span class="s1">'{"query":"mutation {\\n  deleteUser(id: 386) {\\n    id\\n    uuid\\n    name\\n    email\\n    role\\n    company_id\\n    parent_id\\n    admin_token\\n    profile_picture\\n    first_login\\n    last_login\\n    tfa_secret\\n    created_at\\n    updated_at\\n  }\\n}\\n"}'</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setRequestUrl</span><span class="p">(</span><span class="s1">'http://localhost:8000/graphql'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setRequestMethod</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="nv">$body</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'content-type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span>
<span class="p">));</span>

<span class="nv">$client</span><span class="o">-&gt;</span><span class="na">enqueue</span><span class="p">(</span><span class="nv">$request</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">getResponse</span><span class="p">();</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"http://localhost:8000/graphql"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"query\":\"mutation {\\n  deleteUser(id: 386) {\\n    id\\n    uuid\\n    name\\n    email\\n    role\\n    company_id\\n    parent_id\\n    admin_token\\n    profile_picture\\n    first_login\\n    last_login\\n    tfa_secret\\n    created_at\\n    updated_at\\n  }\\n}\\n\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="k">let</span> <span class="nv">headers</span> <span class="o">=</span> <span class="p">[</span><span class="s">"content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">]</span>

<span class="k">let</span> <span class="nv">postData</span> <span class="o">=</span> <span class="kt">NSData</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="s">"{"</span><span class="n">query</span><span class="s">":"</span><span class="n">mutation</span> <span class="p">{</span><span class="err">\</span><span class="n">n</span>  <span class="nf">deleteUser</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="mi">386</span><span class="p">)</span> <span class="p">{</span><span class="err">\</span><span class="n">n</span>    <span class="n">id</span><span class="err">\</span><span class="n">n</span>    <span class="n">uuid</span><span class="err">\</span><span class="n">n</span>    <span class="n">name</span><span class="err">\</span><span class="n">n</span>    <span class="n">email</span><span class="err">\</span><span class="n">n</span>    <span class="n">role</span><span class="err">\</span><span class="n">n</span>    <span class="n">company_id</span><span class="err">\</span><span class="n">n</span>    <span class="n">parent_id</span><span class="err">\</span><span class="n">n</span>    <span class="n">admin_token</span><span class="err">\</span><span class="n">n</span>    <span class="n">profile_picture</span><span class="err">\</span><span class="n">n</span>    <span class="n">first_login</span><span class="err">\</span><span class="n">n</span>    <span class="n">last_login</span><span class="err">\</span><span class="n">n</span>    <span class="n">tfa_secret</span><span class="err">\</span><span class="n">n</span>    <span class="n">created_at</span><span class="err">\</span><span class="n">n</span>    <span class="n">updated_at</span><span class="err">\</span><span class="n">n</span>  <span class="p">}</span><span class="err">\</span><span class="n">n</span><span class="p">}</span><span class="err">\</span><span class="n">n</span><span class="s">"}"</span><span class="o">.</span><span class="nf">data</span><span class="p">(</span><span class="nv">using</span><span class="p">:</span> <span class="kt">String</span><span class="o">.</span><span class="kt">Encoding</span><span class="o">.</span><span class="n">utf8</span><span class="p">)</span><span class="o">!</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">NSMutableURLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="kt">NSURL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"http://localhost:8000/graphql"</span><span class="p">)</span><span class="o">!</span> <span class="k">as</span> <span class="kt">URL</span><span class="p">,</span>
                                        <span class="nv">cachePolicy</span><span class="p">:</span> <span class="o">.</span><span class="n">useProtocolCachePolicy</span><span class="p">,</span>
                                    <span class="nv">timeoutInterval</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpMethod</span> <span class="o">=</span> <span class="s">"POST"</span>
<span class="n">request</span><span class="o">.</span><span class="n">allHTTPHeaderFields</span> <span class="o">=</span> <span class="n">headers</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpBody</span> <span class="o">=</span> <span class="n">postData</span> <span class="k">as</span> <span class="kt">Data</span>

<span class="k">let</span> <span class="nv">session</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span>
<span class="k">let</span> <span class="nv">dataTask</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span> <span class="k">as</span> <span class="kt">URLRequest</span><span class="p">,</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="k">in</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">httpResponse</span> <span class="o">=</span> <span class="n">response</span> <span class="k">as?</span> <span class="kt">HTTPURLResponse</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="n">dataTask</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"deleteUser"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"386"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"912a6cd0-3f84-4703-972f-76380105a412"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscriber"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"admin_token"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"profile_picture"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"first_login"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_login"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tfa_secret"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-30 14:28:37"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-31 17:36:33"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="javascript">javascript</a>
                <a href="#" data-language-name="php">php</a>
                <a href="#" data-language-name="java">java</a>
                <a href="#" data-language-name="swift">swift</a>
          </div>
      </div>
    </div>
  </body>
</html>
